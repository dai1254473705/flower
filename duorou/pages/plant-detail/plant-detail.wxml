<!--pages/plant-detail/plant-detail.wxml-->
<view class="container {{currentTheme}}" style="font-size: {{fontSizeValue}}rpx;">
  <view wx:if="{{plant}}">
    <!-- æ¤ç‰©å¤§å›¾ -->
    <view class="plant-image-section">
      <image 
        class="plant-image" 
        src="{{plant.src}}" 
        mode="aspectFit"
        bindtap="previewImage"
      ></image>
      <view class="image-overlay">
        <view class="collection-btn" catchtap="toggleCollection">
          <text class="icon {{isCollected ? 'collected' : ''}}">{{isCollected ? 'â™¥' : 'â™¡'}}</text>
          <text class="btn-text">{{isCollected ? 'å·²æ”¶è—' : 'æ”¶è—'}}</text>
        </view>
      </view>
    </view>

    <!-- æ¤ç‰©åŸºæœ¬ä¿¡æ¯ -->
    <view class="plant-info-section">
      <view class="info-card">
        <text class="plant-title">{{plant.title}}</text>
        <view class="plant-meta">
          <text class="category">{{plant.category}}</text>
          <text class="plant-id">ID: {{plant.id}}</text>
        </view>
      </view>
    </view>

    <!-- ç›¸å…³æ–‡ç«  -->
    <view class="articles-section" wx:if="{{plant.articles && plant.articles.length > 0}}">
      <view class="section-header">
        <text class="section-title">ç›¸å…³æ–‡ç« </text>
      </view>
      <view class="articles-list">
        <block wx:for="{{plant.articles}}" wx:key="title">
          <view class="article-item" bindtap="viewArticle" data-article="{{item}}">
            <text class="article-title">{{item.title}}</text>
            <text class="article-arrow">â€º</text>
          </view>
        </block>
      </view>
    </view>

    <!-- æ“ä½œæŒ‰é’® -->
    <view class="action-section">
      <button class="action-btn share-btn" open-type="share">
        <text class="btn-icon">ğŸ“¤</text>
        <text>åˆ†äº«ç»™å¥½å‹</text>
      </button>
      <button class="action-btn feedback-btn" bindtap="onFeedback">
        <text class="btn-icon">ğŸ’¬</text>
        <text>ç”¨æˆ·åé¦ˆ</text>
      </button>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view wx:else class="empty">
    <text>æ¤ç‰©ä¿¡æ¯åŠ è½½ä¸­...</text>
  </view>
</view>