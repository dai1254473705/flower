<!--pages/plant-list/plant-list.wxml-->
<view class="container">
  <!-- 页面标题 -->
  <view class="page-header">
    <text class="page-title">{{category}}</text>
    <text class="plant-count">共{{plants.length}}种植物</text>
  </view>

  <!-- 植物列表 -->
  <view class="plants-list">
    <block wx:for="{{plants}}" wx:key="id">
      <view class="plant-item" bindtap="goToPlantDetail" data-plant="{{item}}">
        <image class="plant-image" src="{{item.src}}" mode="aspectFill" lazy-load="true"></image>
        <view class="plant-info">
          <text class="plant-title">{{item.title}}</text>
          <text class="plant-category">{{item.category}}</text>
        </view>
        <view class="collection-btn" catchtap="toggleCollection" data-plant="{{item}}">
          <text class="icon {{item.isCollected ? 'collected' : ''}}">{{item.isCollected ? '♥' : '♡'}}</text>
        </view>
      </view>
    </block>
  </view>

  <!-- 加载状态 -->
  <view wx:if="{{loading}}" class="loading">
    <text>加载中...</text>
  </view>

  <view wx:if="{{!loading && plants.length === 0}}" class="empty">
    <text>该分类下暂无植物</text>
  </view>

  <view wx:if="{{!hasMore && plants.length > 0}}" class="no-more">
    <text>没有更多数据了</text>
  </view>
</view>